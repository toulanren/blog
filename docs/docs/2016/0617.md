# MVC 的个人理解

先来了解一下 M、V、C 这三个字母吧。

- M：Model（模型），它对数据库的操作较多。
- V：View（视图），就是用户看得见的东东。
- C：Controller（控制器），业务逻辑层，就像网站的大脑。

在下面的话我就以 M、V、C 这三个单词代表模型、视图、控制器了。

首先说一下开启一个网页的步骤吧，就普通浏览者可能说就是打开网址罢了，其实在使用了 MVC 框架的页面，并不是如此简单，当用户访问 MVC 框架的站点时，访问的并不是正常的页面，而是 C，你一访问进来，若站点时静态页面，C 会调用 V，将 V 的页面静态页面文本输出到浏览器，这样就是访客看到的界面了。

而当访问的站点是动态页面，与访客、数据库有交互行为的时候，访问的时候 C 并不是直接调用 V，因为站点是动态页面，所以站点肯定会有方法，最常见的就是：把这个数据放进 V 里面，给访客看见。

所以说，访客看见的页面是 V，具体来说是经过 C 处理后的 V。

举一个形象的例子：我有一张纸，你说你要看，我可以直接把纸给你看了，我也可以在纸上画点东西然后再给你看。

放到网页上，我就是 C，纸就是 V，你就是访客，而静态和动态的关系就是我在不在纸上画画。

说到这里，大家应该对 C 和 V 的关系有了解了，那我们来说说 M 的意义，一般来说，M 只有在站点时动态页面才会使用的，所以我们还是使用上面的例子。

我既然要在纸上画画再给你看，但我总得要个工具吧，所以 M 就是这个工具。它可以用来画，也可以擦去东西，可以干很多很多事。

所以说呢，根据上面这个例子，我个人觉得比较形象了，也好理解了。M 是对数据库就行了很多操作。它可以对数据库做增删查改等操作，然后返回一个值给 C。

这个返回的值取决于 C 想干嘛，如果 C 只想知道 M 有没有做好事，那就是布尔值了，true 和 false，M 说我做好了或者说没做好。

而如果 C 是想要让 M 给他点东西干嘛，比如 M 根据 C 的指令对数据库进行”查“操作找到了到了一些数据，C 要用这些数据，则返回的值就是数组、对象之类的了。

所以，举例子说这么多，总结就是：根据 M 的返回值，C 可以对 V 进行操作。

上面说了那么多，大家应该了解了这第一个总结。

但是学习了 ThinkPHP 的朋友会有困惑，因为 TP 框架里面的 C 里面一样可以对数据操作，这就让很多人不明白了，其实，当 C 调用 M 的时候，是获得了 M 的能力，也能够进行增删查改等操作的能力，这是因为当进行一些很小的操作时，没必要使用 M。

比如读取一个表的所有数据，删除一个指定数据，这种基本操作就可以直接用 C 来完成了。

当对数据操作比较复杂的时候，更多时候我们是建议单独创建 M，在 M 里面进行数据操作，而 C 只做一个逻辑处理，让 M 干嘛 M 就干嘛，C 只要结果就行了。

现在说说 V 和 C 的关系吧，一般来说 V 是给访客看的东西，但是动态页面一般会与访客交互，比如访客留个言，访客有留言的权利，所以访客会通过 V 页面来访问 C 的某个方法，让 C 来对 M 发出指令，进行留言。

以 TP 为例，你可以用 C 控制器的 index 方法来进入 V 页面，然后在 C 控制器下有一个 add 方法，这个方法不进入任何页面，只对 M 发出指令进行数据操作。

访客就可以通过 V 页面来访问 C 控制器的 add 方法，来达到自己想要的效果。。

当然，你也可以把 add 和 index 方法整合起来，做判断，这都是可以的，不过在这里就不说了。

所以，根据 V 访问的 C 里某个方法，C 就用该方法来对 M 发出指令。

总结一下呢，就是：

- 根据 M 的返回值，C 对 V 进行操作，来让访客看到想要看见的东西。
- 根据 V 访问的 C 的某个方法，C 对 M 发出该方法对应的指令，让访客做到自己想要做的事。

希望大家能够理解 M、V、C 的相互关系吧，以上是本人理解，如果不对欢迎留言讨论。
